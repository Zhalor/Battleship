(()=>{"use strict";var e={d:(t,r)=>{for(var l in r)e.o(r,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:r[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){let r=0,l=0;return{name:e,hit:()=>{++l,l===t&&++r},length:t,showHits:()=>l,isSunk:()=>r}}function r(){const e={a1:"",a2:"",a3:"",a4:"",a5:"",a6:"",a7:"",a8:"",b1:"",b2:"",b3:"",b4:"",b5:"",b6:"",b7:"",b8:"",c1:"",c2:"",c3:"",c4:"",c5:"",c6:"",c7:"",c8:"",d1:"",d2:"",d3:"",d4:"",d5:"",d6:"",d7:"",d8:"",e1:"",e2:"",e3:"",e4:"",e5:"",e6:"",e7:"",e8:"",f1:"",f2:"",f3:"",f4:"",f5:"",f6:"",f7:"",f8:"",g1:"",g2:"",g3:"",g4:"",g5:"",g6:"",g7:"",g8:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:"",h7:"",h8:""},r=[];return{coordinates:e,placeCarrier:(l,a)=>{const n=t("carrier",5);let[o,c]=l.split("");if(c=Number(c),!1===a){if(c+n.length<10){for(let t=c;t<c+n.length;t++)e[o+t]="carrier";r.push(n)}}else if(!0===a&&o.charCodeAt()+n.length<105){let t=o.charCodeAt();for(let r=t;r<t+n.length;r++){let t=String.fromCharCode(r);e[t+c]="carrier"}r.push(n)}},placeBattleship:(l,a)=>{const n=t("battleship",4);let[o,c]=l.split("");if(c=Number(c),!1===a){if(c+n.length<10){for(let t=c;t<c+n.length;t++)e[o+t]="battleship";r.push(n)}}else if(!0===a&&o.charCodeAt()+n.length<105){let t=o.charCodeAt();for(let r=t;r<t+n.length;r++){let t=String.fromCharCode(r);e[t+c]="battleship"}r.push(n)}},placeCruiser:(l,a)=>{const n=t("cruiser",3);let[o,c]=l.split("");if(c=Number(c),!1===a){if(c+n.length<10){for(let t=c;t<c+n.length;t++)e[o+t]="cruiser";r.push(n)}}else if(!0===a&&o.charCodeAt()+n.length<105){let t=o.charCodeAt();for(let r=t;r<t+n.length;r++){let t=String.fromCharCode(r);e[t+c]="cruiser"}r.push(n)}},placeSubmarine:(l,a)=>{const n=t("submarine",3);let[o,c]=l.split("");if(c=Number(c),!1===a){if(c+n.length<10){for(let t=c;t<c+n.length;t++)e[o+t]="submarine";r.push(n)}}else if(!0===a&&o.charCodeAt()+n.length<105){let t=o.charCodeAt();for(let r=t;r<t+n.length;r++){let t=String.fromCharCode(r);e[t+c]="submarine"}r.push(n)}},placeDestroyer:(l,a)=>{const n=t("destroyer",2);let[o,c]=l.split("");if(c=Number(c),!1===a){if(c+n.length<10){for(let t=c;t<c+n.length;t++)e[o+t]="destroyer";r.push(n)}}else if(!0===a&&o.charCodeAt()+n.length<105){let t=o.charCodeAt();for(let r=t;r<t+n.length;r++){let t=String.fromCharCode(r);e[t+c]="destroyer"}r.push(n)}},receiveAttack:t=>e[t]?((e=>{switch(e){case"carrier":r[0].hit();break;case"battleship":r[1].hit();break;case"cruiser":r[2].hit();break;case"submarine":r[3].hit();break;case"destroyer":r[4].hit()}})(e[t]),!0):(e[t]="miss",!1),checkAllShipsSunk:()=>{if(5===r.reduce(((e,t)=>e+t.isSunk()),0))return!0},ships:r}}e.d({},{t:()=>d,F:()=>p});const l=e=>{const t={},r=()=>{let e=String.fromCharCode(String(Math.round(7*Math.random()+97))),t=String(Math.floor(8*Math.random())+1);return e.concat(t)};return{makeMove:()=>{let e=r();for(;e in t;)e=r();return t[e]=!0,e},movesMade:t,turn:e}},a=document.getElementById("title-container"),n=document.getElementById("game-container"),o=document.getElementById("game-header"),c=document.getElementById("player-name"),i=document.getElementById("player-name-input"),s=(document.querySelectorAll("#player-gameboard .cell"),document.querySelectorAll("#computer-gameboard .cell"));for(let e of s)e.addEventListener("click",(()=>{if(p[0].turn){h(d[1].receiveAttack(e.dataset.coordinates),e);const t=d[1].checkAllShipsSunk();p[0].turn=!1,t&&alert("Computer loses. You win!"),d[0].receiveAttack(p[1].makeMove()),console.log(d[0].coordinates),p[0].turn=!0}}));function h(e,t){t.style.backgroundColor=e?"rgba(255, 30, 30, 0.7)":"rgba(0, 0, 255, 0.7)"}const u=document.getElementById("start-game"),d=[],p=[];u.addEventListener("click",(()=>{!function(){a.style.display="none",n.style.display="grid",o.style.display="grid";const e=""==i.value?"Your":i.value+"'s";c.innerText=`${e} Board`}(),function(){const e=l(!0);p.push(e);const t=l(!1);p.push(t)}(),function(){const e=r();e.placeCarrier("a1",!1),e.placeBattleship("b1",!1),e.placeCruiser("c1",!1),e.placeSubmarine("d1",!1),e.placeDestroyer("e1",!1),d.push(e);const t=r();t.placeCarrier("a1",!1),t.placeBattleship("b1",!1),t.placeCruiser("c1",!1),t.placeSubmarine("d1",!1),t.placeDestroyer("e1",!1),d.push(t)}()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sR0FDbENxRCxFQUFZbkQsYUFBYSxNQUFNLEdBQy9CbUQsRUFBWWpELGVBQWUsTUFBTSxHQUNqQ2lELEVBQVkvQyxlQUFlLE1BQU0sR0FDakMrQixFQUFPM0MsS0FBSzJELEdBQ1osTUFBTUMsRUFBZ0J4SSxJQUN0QndJLEVBQWNyRSxhQUFhLE1BQU0sR0FDakNxRSxFQUFjdEQsZ0JBQWdCLE1BQU0sR0FDcENzRCxFQUFjcEQsYUFBYSxNQUFNLEdBQ2pDb0QsRUFBY2xELGVBQWUsTUFBTSxHQUNuQ2tELEVBQWNoRCxlQUFlLE1BQU0sR0FDbkMrQixFQUFPM0MsS0FBSzRELEVBQ2QsQ0F6QkVDLEVBQWMsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2hpcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9ET00uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImZ1bmN0aW9uIHNoaXAobmFtZSwgbGVuZ3RoKSB7XG4gIGxldCBzdW5rID0gMDtcbiAgbGV0IGhpdHMgPSAwO1xuXG4gIGNvbnN0IGhpdCA9ICgpID0+IHtcbiAgICArK2hpdHM7XG4gICAgaWYoaGl0cyA9PT0gbGVuZ3RoKSB7XG4gICAgICArK3N1bms7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNob3dIaXRzID0gKCkgPT4gaGl0cztcblxuICBjb25zdCBpc1N1bmsgPSAoKSA9PiBzdW5rO1xuXG4gIHJldHVybiB7IG5hbWUsIGhpdCwgbGVuZ3RoLCBzaG93SGl0cywgaXNTdW5rIH07XG59XG5cbmV4cG9ydCB7IHNoaXAgfTsiLCJpbXBvcnQgeyBzaGlwIH0gZnJvbSBcIi4vc2hpcHNcIjtcblxuZnVuY3Rpb24gZ2FtZUJvYXJkKCkge1xuICBjb25zdCBjb29yZGluYXRlcyA9IHtcbiAgICBhMTogJycsXG4gICAgYTI6ICcnLFxuICAgIGEzOiAnJyxcbiAgICBhNDogJycsXG4gICAgYTU6ICcnLFxuICAgIGE2OiAnJyxcbiAgICBhNzogJycsXG4gICAgYTg6ICcnLFxuICAgIGIxOiAnJyxcbiAgICBiMjogJycsXG4gICAgYjM6ICcnLFxuICAgIGI0OiAnJyxcbiAgICBiNTogJycsXG4gICAgYjY6ICcnLFxuICAgIGI3OiAnJyxcbiAgICBiODogJycsXG4gICAgYzE6ICcnLFxuICAgIGMyOiAnJyxcbiAgICBjMzogJycsXG4gICAgYzQ6ICcnLFxuICAgIGM1OiAnJyxcbiAgICBjNjogJycsXG4gICAgYzc6ICcnLFxuICAgIGM4OiAnJyxcbiAgICBkMTogJycsXG4gICAgZDI6ICcnLFxuICAgIGQzOiAnJyxcbiAgICBkNDogJycsXG4gICAgZDU6ICcnLFxuICAgIGQ2OiAnJyxcbiAgICBkNzogJycsXG4gICAgZDg6ICcnLFxuICAgIGUxOiAnJyxcbiAgICBlMjogJycsXG4gICAgZTM6ICcnLFxuICAgIGU0OiAnJyxcbiAgICBlNTogJycsXG4gICAgZTY6ICcnLFxuICAgIGU3OiAnJyxcbiAgICBlODogJycsXG4gICAgZjE6ICcnLFxuICAgIGYyOiAnJyxcbiAgICBmMzogJycsXG4gICAgZjQ6ICcnLFxuICAgIGY1OiAnJyxcbiAgICBmNjogJycsXG4gICAgZjc6ICcnLFxuICAgIGY4OiAnJyxcbiAgICBnMTogJycsXG4gICAgZzI6ICcnLFxuICAgIGczOiAnJyxcbiAgICBnNDogJycsXG4gICAgZzU6ICcnLFxuICAgIGc2OiAnJyxcbiAgICBnNzogJycsXG4gICAgZzg6ICcnLFxuICAgIGgxOiAnJyxcbiAgICBoMjogJycsXG4gICAgaDM6ICcnLFxuICAgIGg0OiAnJyxcbiAgICBoNTogJycsXG4gICAgaDY6ICcnLFxuICAgIGg3OiAnJyxcbiAgICBoODogJycsXG4gIH1cblxuICBjb25zdCBzaGlwcyA9IFtdO1xuXG4gIGNvbnN0IHBsYWNlQ2FycmllciA9IChjb29yZHMsIHZlcnRpY2FsKSA9PiB7XG4gICAgY29uc3QgY2FycmllciA9IHNoaXAoJ2NhcnJpZXInLCA1KTtcbiAgICBsZXQgW2xldHRlciwgbnVtXSA9IGNvb3Jkcy5zcGxpdCgnJyk7XG4gICAgbnVtID0gTnVtYmVyKG51bSk7XG5cbiAgICBpZih2ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgIGlmKChudW0gKyBjYXJyaWVyLmxlbmd0aCkgPCAxMCkge1xuICAgICAgICBmb3IobGV0IGkgPSBudW07IGkgPCBudW0gKyBjYXJyaWVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29vcmRpbmF0ZXNbbGV0dGVyICsgaV0gPSAnY2Fycmllcic7XG4gICAgICAgIH1cbiAgICAgICAgc2hpcHMucHVzaChjYXJyaWVyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYodmVydGljYWwgPT09IHRydWUpIHtcbiAgICAgIGlmKGxldHRlci5jaGFyQ29kZUF0KCkgKyBjYXJyaWVyLmxlbmd0aCA8IDEwNSkge1xuICAgICAgICBsZXQgbGV0dGVyQ2hhckNvZGUgPSBsZXR0ZXIuY2hhckNvZGVBdCgpO1xuICAgICAgICBmb3IobGV0IGkgPSBsZXR0ZXJDaGFyQ29kZTsgaSA8IGxldHRlckNoYXJDb2RlICsgY2Fycmllci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCBjb29yZExldHRlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSk7XG4gICAgICAgICAgY29vcmRpbmF0ZXNbY29vcmRMZXR0ZXIgKyBudW1dID0gJ2NhcnJpZXInO1xuICAgICAgICB9XG4gICAgICAgIHNoaXBzLnB1c2goY2Fycmllcik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICBjb25zdCBwbGFjZUJhdHRsZXNoaXAgPSAoY29vcmRzLCB2ZXJ0aWNhbCkgPT4ge1xuICAgIGNvbnN0IGJhdHRsZXNoaXAgPSBzaGlwKCdiYXR0bGVzaGlwJywgNCk7XG4gICAgbGV0IFtsZXR0ZXIsIG51bV0gPSBjb29yZHMuc3BsaXQoJycpO1xuICAgIG51bSA9IE51bWJlcihudW0pO1xuXG4gICAgaWYodmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICBpZigobnVtICsgYmF0dGxlc2hpcC5sZW5ndGgpIDwgMTApIHtcbiAgICAgICAgZm9yKGxldCBpID0gbnVtOyBpIDwgbnVtICsgYmF0dGxlc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvb3JkaW5hdGVzW2xldHRlciArIGldID0gJ2JhdHRsZXNoaXAnO1xuICAgICAgICB9XG4gICAgICAgIHNoaXBzLnB1c2goYmF0dGxlc2hpcCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmKHZlcnRpY2FsID09PSB0cnVlKSB7XG4gICAgICBpZihsZXR0ZXIuY2hhckNvZGVBdCgpICsgYmF0dGxlc2hpcC5sZW5ndGggPCAxMDUpIHtcbiAgICAgICAgbGV0IGxldHRlckNoYXJDb2RlID0gbGV0dGVyLmNoYXJDb2RlQXQoKTtcbiAgICAgICAgZm9yKGxldCBpID0gbGV0dGVyQ2hhckNvZGU7IGkgPCBsZXR0ZXJDaGFyQ29kZSArIGJhdHRsZXNoaXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgY29vcmRMZXR0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpO1xuICAgICAgICAgIGNvb3JkaW5hdGVzW2Nvb3JkTGV0dGVyICsgbnVtXSA9ICdiYXR0bGVzaGlwJztcbiAgICAgICAgfVxuICAgICAgICBzaGlwcy5wdXNoKGJhdHRsZXNoaXApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHBsYWNlQ3J1aXNlciA9IChjb29yZHMsIHZlcnRpY2FsKSA9PiB7XG4gICAgY29uc3QgY3J1aXNlciA9IHNoaXAoJ2NydWlzZXInLCAzKTtcbiAgICBsZXQgW2xldHRlciwgbnVtXSA9IGNvb3Jkcy5zcGxpdCgnJyk7XG4gICAgbnVtID0gTnVtYmVyKG51bSk7XG5cbiAgICBpZih2ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgIGlmKChudW0gKyBjcnVpc2VyLmxlbmd0aCkgPCAxMCkge1xuICAgICAgICBmb3IobGV0IGkgPSBudW07IGkgPCBudW0gKyBjcnVpc2VyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29vcmRpbmF0ZXNbbGV0dGVyICsgaV0gPSAnY3J1aXNlcic7XG4gICAgICAgIH1cbiAgICAgICAgc2hpcHMucHVzaChjcnVpc2VyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYodmVydGljYWwgPT09IHRydWUpIHtcbiAgICAgIGlmKGxldHRlci5jaGFyQ29kZUF0KCkgKyBjcnVpc2VyLmxlbmd0aCA8IDEwNSkge1xuICAgICAgICBsZXQgbGV0dGVyQ2hhckNvZGUgPSBsZXR0ZXIuY2hhckNvZGVBdCgpO1xuICAgICAgICBmb3IobGV0IGkgPSBsZXR0ZXJDaGFyQ29kZTsgaSA8IGxldHRlckNoYXJDb2RlICsgY3J1aXNlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCBjb29yZExldHRlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSk7XG4gICAgICAgICAgY29vcmRpbmF0ZXNbY29vcmRMZXR0ZXIgKyBudW1dID0gJ2NydWlzZXInO1xuICAgICAgICB9XG4gICAgICAgIHNoaXBzLnB1c2goY3J1aXNlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcGxhY2VTdWJtYXJpbmUgPSAoY29vcmRzLCB2ZXJ0aWNhbCkgPT4ge1xuICAgIGNvbnN0IHN1Ym1hcmluZSA9IHNoaXAoJ3N1Ym1hcmluZScsIDMpO1xuICAgIGxldCBbbGV0dGVyLCBudW1dID0gY29vcmRzLnNwbGl0KCcnKTtcbiAgICBudW0gPSBOdW1iZXIobnVtKTtcblxuICAgIGlmKHZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgaWYoKG51bSArIHN1Ym1hcmluZS5sZW5ndGgpIDwgMTApIHtcbiAgICAgICAgZm9yKGxldCBpID0gbnVtOyBpIDwgbnVtICsgc3VibWFyaW5lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29vcmRpbmF0ZXNbbGV0dGVyICsgaV0gPSAnc3VibWFyaW5lJztcbiAgICAgICAgfVxuICAgICAgICBzaGlwcy5wdXNoKHN1Ym1hcmluZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmKHZlcnRpY2FsID09PSB0cnVlKSB7XG4gICAgICBpZihsZXR0ZXIuY2hhckNvZGVBdCgpICsgc3VibWFyaW5lLmxlbmd0aCA8IDEwNSkge1xuICAgICAgICBsZXQgbGV0dGVyQ2hhckNvZGUgPSBsZXR0ZXIuY2hhckNvZGVBdCgpO1xuICAgICAgICBmb3IobGV0IGkgPSBsZXR0ZXJDaGFyQ29kZTsgaSA8IGxldHRlckNoYXJDb2RlICsgc3VibWFyaW5lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IGNvb3JkTGV0dGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShpKTtcbiAgICAgICAgICBjb29yZGluYXRlc1tjb29yZExldHRlciArIG51bV0gPSAnc3VibWFyaW5lJztcbiAgICAgICAgfVxuICAgICAgICBzaGlwcy5wdXNoKHN1Ym1hcmluZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcGxhY2VEZXN0cm95ZXIgPSAoY29vcmRzLCB2ZXJ0aWNhbCkgPT4ge1xuICAgIGNvbnN0IGRlc3Ryb3llciA9IHNoaXAoJ2Rlc3Ryb3llcicsIDIpO1xuICAgIGxldCBbbGV0dGVyLCBudW1dID0gY29vcmRzLnNwbGl0KCcnKTtcbiAgICBudW0gPSBOdW1iZXIobnVtKTtcblxuICAgIGlmKHZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgaWYoKG51bSArIGRlc3Ryb3llci5sZW5ndGgpIDwgMTApIHtcbiAgICAgICAgZm9yKGxldCBpID0gbnVtOyBpIDwgbnVtICsgZGVzdHJveWVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29vcmRpbmF0ZXNbbGV0dGVyICsgaV0gPSAnZGVzdHJveWVyJztcbiAgICAgICAgfVxuICAgICAgICBzaGlwcy5wdXNoKGRlc3Ryb3llcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmKHZlcnRpY2FsID09PSB0cnVlKSB7XG4gICAgICBpZihsZXR0ZXIuY2hhckNvZGVBdCgpICsgZGVzdHJveWVyLmxlbmd0aCA8IDEwNSkge1xuICAgICAgICBsZXQgbGV0dGVyQ2hhckNvZGUgPSBsZXR0ZXIuY2hhckNvZGVBdCgpO1xuICAgICAgICBmb3IobGV0IGkgPSBsZXR0ZXJDaGFyQ29kZTsgaSA8IGxldHRlckNoYXJDb2RlICsgZGVzdHJveWVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IGNvb3JkTGV0dGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShpKTtcbiAgICAgICAgICBjb29yZGluYXRlc1tjb29yZExldHRlciArIG51bV0gPSAnZGVzdHJveWVyJztcbiAgICAgICAgfVxuICAgICAgICBzaGlwcy5wdXNoKGRlc3Ryb3llcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IChjb29yZHMpID0+IHtcbiAgICBpZihjb29yZGluYXRlc1tjb29yZHNdKSB7XG4gICAgICBjaGVja0NlbGxDb250YWluc1NoaXAoY29vcmRpbmF0ZXNbY29vcmRzXSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29vcmRpbmF0ZXNbY29vcmRzXSA9ICdtaXNzJztcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBjaGVja0NlbGxDb250YWluc1NoaXAgPSAoY29vcmRzKSA9PiB7XG4gICAgc3dpdGNoIChjb29yZHMpIHtcbiAgICAgIGNhc2UgJ2NhcnJpZXInOlxuICAgICAgICBzaGlwc1swXS5oaXQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdiYXR0bGVzaGlwJzpcbiAgICAgICAgc2hpcHNbMV0uaGl0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY3J1aXNlcic6XG4gICAgICAgIHNoaXBzWzJdLmhpdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N1Ym1hcmluZSc6XG4gICAgICAgIHNoaXBzWzNdLmhpdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Rlc3Ryb3llcic6XG4gICAgICAgIHNoaXBzWzRdLmhpdCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBjb25zdCBjaGVja0FsbFNoaXBzU3VuayA9ICgpID0+IHtcbiAgICBsZXQgY291bnQgPSBzaGlwcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHByZXYgKyBjdXJyLmlzU3VuaygpLCAwKTtcbiAgICBpZihjb3VudCA9PT0gNSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHsgY29vcmRpbmF0ZXMsIHBsYWNlQ2FycmllciwgcGxhY2VCYXR0bGVzaGlwLCBwbGFjZUNydWlzZXIsIHBsYWNlU3VibWFyaW5lLCBwbGFjZURlc3Ryb3llcixcbiAgICByZWNlaXZlQXR0YWNrLCBjaGVja0FsbFNoaXBzU3Vuaywgc2hpcHMgfTtcbn1cblxuZXhwb3J0IHsgZ2FtZUJvYXJkIH07IiwiY29uc3QgcGxheWVyID0gKHR1cm4pID0+IHtcbiAgY29uc3QgbW92ZXNNYWRlID0ge307XG5cbiAgY29uc3QgbWFrZU1vdmUgPSAoKSA9PiB7XG4gICAgbGV0IGNvb3JkcyA9IGdlbmVyYXRlQ29vcmRpbmF0ZSgpO1xuICAgIHdoaWxlKGNvb3JkcyBpbiBtb3Zlc01hZGUpe1xuICAgICAgY29vcmRzID0gZ2VuZXJhdGVDb29yZGluYXRlKCk7XG4gICAgfVxuICAgIG1vdmVzTWFkZVtjb29yZHNdID0gdHJ1ZTtcbiAgICByZXR1cm4gY29vcmRzO1xuICB9XG5cbiAgY29uc3QgZ2VuZXJhdGVDb29yZGluYXRlID0gKCkgPT4ge1xuICAgIGxldCBsZXR0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFN0cmluZyhNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoMTA0IC0gOTcpICsgOTcpKSk7XG4gICAgbGV0IG51bSA9IFN0cmluZyhNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KSArIDEpO1xuICAgIHJldHVybiBsZXR0ZXIuY29uY2F0KG51bSk7XG4gIH1cblxuICByZXR1cm4geyBtYWtlTW92ZSwgbW92ZXNNYWRlLCB0dXJuIH1cbn1cblxuZXhwb3J0IHsgcGxheWVyIH07IiwiaW1wb3J0IHsgc2hpcCB9IGZyb20gXCIuL3NoaXBzXCI7XG5pbXBvcnQgeyBnYW1lQm9hcmQsY2hlY2tBbGxTaGlwc1N1bmsgfSBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcbmltcG9ydCB7IHBsYXllciB9IGZyb20gJy4vcGxheWVyJztcbmltcG9ydCB7IGJvYXJkcywgcGxheWVycyB9IGZyb20gJy4vaW5kZXgnO1xuXG5jb25zdCB0aXRsZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZS1jb250YWluZXInKTtcbmNvbnN0IGdhbWVDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jb250YWluZXInKTtcbmNvbnN0IGdhbWVIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1oZWFkZXInKTtcbmNvbnN0IHBsYXllck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyLW5hbWUnKTtcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXItbmFtZS1pbnB1dCcpO1xuY29uc3QgcGxheWVyQ2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcGxheWVyLWdhbWVib2FyZCAuY2VsbCcpO1xuY29uc3QgY29tcHV0ZXJDZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNjb21wdXRlci1nYW1lYm9hcmQgLmNlbGwnKTtcblxuZnVuY3Rpb24gZGlzcGxheUJvYXJkKCkge1xuICB0aXRsZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBnYW1lQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZ3JpZCc7XG4gIGdhbWVIZWFkZXIuc3R5bGUuZGlzcGxheSA9ICdncmlkJztcblxuICBjb25zdCBuYW1lID0gbmFtZUlucHV0LnZhbHVlID09ICcnID8gJ1lvdXInOiBuYW1lSW5wdXQudmFsdWUgKyAnXFwncydcbiAgcGxheWVyTmFtZS5pbm5lclRleHQgPSBgJHtuYW1lfSBCb2FyZGBcbn1cblxuXG5cbmZvcihsZXQgY2VsbCBvZiBjb21wdXRlckNlbGxzKSB7XG4gIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYocGxheWVyc1swXS50dXJuKSB7XG4gICAgICBjb25zdCBoaXQgPSBib2FyZHNbMV0ucmVjZWl2ZUF0dGFjayhjZWxsLmRhdGFzZXQuY29vcmRpbmF0ZXMpO1xuICAgICAgY2hlY2tIaXQoaGl0LCBjZWxsKTtcbiAgICAgIGNvbnN0IGdhbWVPdmVyID0gYm9hcmRzWzFdLmNoZWNrQWxsU2hpcHNTdW5rKCk7XG4gICAgICBwbGF5ZXJzWzBdLnR1cm4gPSBmYWxzZTtcbiAgICAgIGlmKGdhbWVPdmVyKSB7XG4gICAgICAgIGFsZXJ0KCdDb21wdXRlciBsb3Nlcy4gWW91IHdpbiEnKTtcbiAgICAgIH1cblxuICAgICAgYm9hcmRzWzBdLnJlY2VpdmVBdHRhY2socGxheWVyc1sxXS5tYWtlTW92ZSgpKTtcbiAgICAgIGNvbnNvbGUubG9nKGJvYXJkc1swXS5jb29yZGluYXRlcyk7XG4gICAgICBwbGF5ZXJzWzBdLnR1cm4gPSB0cnVlO1xuICAgIH1cblxuICB9KTtcbn1cblxuZnVuY3Rpb24gY2hlY2tIaXQoaGl0LCBjZWxsKSB7XG4gIGlmKGhpdCkge1xuICAgIGNlbGwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjU1LCAzMCwgMzAsIDAuNyknO1xuICB9IGVsc2Uge1xuICAgIGNlbGwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMCwgMCwgMjU1LCAwLjcpJztcbiAgfVxufVxuXG5cbmV4cG9ydCB7IGRpc3BsYXlCb2FyZCB9IiwiaW1wb3J0IHsgc2hpcCB9IGZyb20gXCIuL3NoaXBzXCI7XG5pbXBvcnQgeyBnYW1lQm9hcmQgfSBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcbmltcG9ydCB7IHBsYXllciB9IGZyb20gJy4vcGxheWVyJztcbmltcG9ydCB7IGRpc3BsYXlCb2FyZCB9IGZyb20gJy4vRE9NJ1xuY29uc3Qgc3RhcnRHYW1lQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LWdhbWUnKTtcblxuY29uc3QgYm9hcmRzID0gW107XG5jb25zdCBwbGF5ZXJzID0gW11cblxuc3RhcnRHYW1lQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBkaXNwbGF5Qm9hcmQoKTtcbiAgY3JlYXRlUGxheWVycygpO1xuICBjcmVhdGVCb2FyZHMoKTtcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVQbGF5ZXJzKCkge1xuICBjb25zdCBodW1hblBsYXllciA9IHBsYXllcih0cnVlKTtcbiAgcGxheWVycy5wdXNoKGh1bWFuUGxheWVyKTtcbiAgY29uc3QgY29tcHV0ZXJQbGF5ZXIgPSBwbGF5ZXIoZmFsc2UpO1xuICBwbGF5ZXJzLnB1c2goY29tcHV0ZXJQbGF5ZXIpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCb2FyZHMoKSB7XG4gIGNvbnN0IHBsYXllckJvYXJkID0gZ2FtZUJvYXJkKCk7XG4gIHBsYXllckJvYXJkLnBsYWNlQ2FycmllcignYTEnLCBmYWxzZSk7XG4gIHBsYXllckJvYXJkLnBsYWNlQmF0dGxlc2hpcCgnYjEnLCBmYWxzZSk7XG4gIHBsYXllckJvYXJkLnBsYWNlQ3J1aXNlcignYzEnLCBmYWxzZSk7XG4gIHBsYXllckJvYXJkLnBsYWNlU3VibWFyaW5lKCdkMScsIGZhbHNlKTtcbiAgcGxheWVyQm9hcmQucGxhY2VEZXN0cm95ZXIoJ2UxJywgZmFsc2UpO1xuICBib2FyZHMucHVzaChwbGF5ZXJCb2FyZCk7XG4gIGNvbnN0IGNvbXB1dGVyQm9hcmQgPSBnYW1lQm9hcmQoKTtcbiAgY29tcHV0ZXJCb2FyZC5wbGFjZUNhcnJpZXIoJ2ExJywgZmFsc2UpO1xuICBjb21wdXRlckJvYXJkLnBsYWNlQmF0dGxlc2hpcCgnYjEnLCBmYWxzZSk7XG4gIGNvbXB1dGVyQm9hcmQucGxhY2VDcnVpc2VyKCdjMScsIGZhbHNlKTtcbiAgY29tcHV0ZXJCb2FyZC5wbGFjZVN1Ym1hcmluZSgnZDEnLCBmYWxzZSk7XG4gIGNvbXB1dGVyQm9hcmQucGxhY2VEZXN0cm95ZXIoJ2UxJywgZmFsc2UpO1xuICBib2FyZHMucHVzaChjb21wdXRlckJvYXJkKTtcbn1cblxuZXhwb3J0IHsgYm9hcmRzLCBwbGF5ZXJzIH0iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzaGlwIiwibmFtZSIsImxlbmd0aCIsInN1bmsiLCJoaXRzIiwiaGl0Iiwic2hvd0hpdHMiLCJpc1N1bmsiLCJnYW1lQm9hcmQiLCJjb29yZGluYXRlcyIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJhNiIsImE3IiwiYTgiLCJiMSIsImIyIiwiYjMiLCJiNCIsImI1IiwiYjYiLCJiNyIsImI4IiwiYzEiLCJjMiIsImMzIiwiYzQiLCJjNSIsImM2IiwiYzciLCJjOCIsImQxIiwiZDIiLCJkMyIsImQ0IiwiZDUiLCJkNiIsImQ3IiwiZDgiLCJlMSIsImUyIiwiZTMiLCJlNCIsImU1IiwiZTYiLCJlNyIsImU4IiwiZjEiLCJmMiIsImYzIiwiZjQiLCJmNSIsImY2IiwiZjciLCJmOCIsImcxIiwiZzIiLCJnMyIsImc0IiwiZzUiLCJnNiIsImc3IiwiZzgiLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJoNyIsImg4Iiwic2hpcHMiLCJwbGFjZUNhcnJpZXIiLCJjb29yZHMiLCJ2ZXJ0aWNhbCIsImNhcnJpZXIiLCJsZXR0ZXIiLCJudW0iLCJzcGxpdCIsIk51bWJlciIsImkiLCJwdXNoIiwiY2hhckNvZGVBdCIsImxldHRlckNoYXJDb2RlIiwiY29vcmRMZXR0ZXIiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJwbGFjZUJhdHRsZXNoaXAiLCJiYXR0bGVzaGlwIiwicGxhY2VDcnVpc2VyIiwiY3J1aXNlciIsInBsYWNlU3VibWFyaW5lIiwic3VibWFyaW5lIiwicGxhY2VEZXN0cm95ZXIiLCJkZXN0cm95ZXIiLCJyZWNlaXZlQXR0YWNrIiwiY2hlY2tDZWxsQ29udGFpbnNTaGlwIiwiY2hlY2tBbGxTaGlwc1N1bmsiLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsInBsYXllciIsInR1cm4iLCJtb3Zlc01hZGUiLCJnZW5lcmF0ZUNvb3JkaW5hdGUiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJmbG9vciIsImNvbmNhdCIsIm1ha2VNb3ZlIiwidGl0bGVDb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2FtZUNvbnRhaW5lciIsImdhbWVIZWFkZXIiLCJwbGF5ZXJOYW1lIiwibmFtZUlucHV0IiwiY29tcHV0ZXJDZWxscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjZWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBsYXllcnMiLCJjaGVja0hpdCIsImJvYXJkcyIsImRhdGFzZXQiLCJnYW1lT3ZlciIsImFsZXJ0IiwiY29uc29sZSIsImxvZyIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwic3RhcnRHYW1lQnRuIiwiZGlzcGxheSIsInZhbHVlIiwiaW5uZXJUZXh0IiwiZGlzcGxheUJvYXJkIiwiaHVtYW5QbGF5ZXIiLCJjb21wdXRlclBsYXllciIsImNyZWF0ZVBsYXllcnMiLCJwbGF5ZXJCb2FyZCIsImNvbXB1dGVyQm9hcmQiLCJjcmVhdGVCb2FyZHMiXSwic291cmNlUm9vdCI6IiJ9